p=7;
var vx=0;
var vy=0;
var pc;
// TODO target is declaed in Actor, 
// if forgot to var, error will happen in assembler
var target; 
while (true) {
    map_setAt(x,y,pc);
    if (target.defeatBy) {
        die();
    }
    if (screenOut()) die();
    if (target.x>x)vx+=1; 
    if (target.x<x)vx-=1; 
    if (target.y>y)vy+=1; 
    if (target.y<y)vy-=1; 
    x+=vx;
    y+=vy;
    update();
}
